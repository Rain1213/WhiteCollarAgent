name: Find specific files or folders
description: Locate user-requested files or directories within the allowed filesystem scope and report their paths.

goal/outcome:
  - Confirmed search target(s) with names/patterns and the directories to include or exclude.
  - Completed search within allowed scope using appropriate tools (e.g., find, shell listing, or Python scan when safer).
  - Returned list of matching paths (or clear statement that none were found) with brief context on location.
  - Provided next-step options (open, summarize, move) if applicable.

inputs_params:
  - Required: File or folder name/pattern to find.
  - Optional: Starting directory or scope constraints, exclusions (e.g., node_modules, venvs), case sensitivity, recursion depth, file types to prefer.

context:
    reasoning:
      - Clarify target names and scope to avoid unnecessary or prohibited traversal.
      - Use efficient commands (find/ls/rg) respecting performance and safety; avoid scanning sensitive/system paths when not needed.
      - Present results with enough context for the user to act (absolute/relative paths).
    deadline: {time remaining} left until deadline {deadline in absolute time format}
    definition_of_done(check during final validation step):
      - Target name/pattern and scope confirmed.
      - Search executed within allowed directories using appropriate tools.
      - Results reported with paths or a clear “not found” note, plus any exclusions/assumptions.
    avoid:
      - Running unbounded scans in sensitive or huge directories without need.
      - Ignoring user exclusions or case-sensitivity requests.
      - Returning stale or partial paths without indicating uncertainty.

steps:
    name: Confirm search target and scope
    description: Gather target names/patterns and agree on directories to scan or exclude.
    action_instruction: Ask for or confirm the exact file/folder name or pattern, starting directory, and any exclusions (e.g., build artifacts). Clarify recursion depth, case sensitivity, and whether to include hidden/system paths. Restate agreed scope before scanning.
    validation_instruction: Ensure target definition is specific enough to search productively. If ambiguous, present options and request a single chosen pattern.

    name: Plan search method
    description: Choose tools and commands that fit scope and safety needs.
    action_instruction: Select appropriate actions (shell find/ls/rg, Python walk) based on scope size and exclusions. Prepare concrete commands that respect limits (e.g., prune excluded dirs) and avoid restricted/system locations unless explicitly allowed.
    validation_instruction: Confirm planned commands align with agreed scope and will not traverse excluded paths. Adjust to reduce excessive runtime if scope is large.

    name: Execute search
    description: Run the planned search commands and collect results.
    action_instruction: Execute the selected commands, capturing matching paths with enough relative/absolute context. If using Python, ensure safe error handling and pruning of excluded directories. Log directories scanned if helpful.
    validation_instruction: Verify results match the requested patterns and reside within allowed scope. If no matches found, confirm that the search covered expected locations; consider a secondary targeted check if reasonable.

    name: Validate overall findings
    description: Confirm outputs satisfy the definition of done.
    action_instruction: Check that targets and scope were honored, commands executed as planned, and results (or “not found”) are ready with context on exclusions/assumptions.

    name: Report results and close
    description: Deliver findings and finalize the task.
    action_instruction: Send the user the list of found paths (or state none found), including brief location context and any exclusions/assumptions. Offer follow-up actions (open/read/move) if relevant, then mark the task completed. Clean up any temporary artifacts if created.
